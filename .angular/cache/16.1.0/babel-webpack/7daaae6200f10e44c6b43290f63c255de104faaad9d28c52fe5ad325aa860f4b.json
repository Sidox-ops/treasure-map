{"ast":null,"code":"import { Subject } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nexport class AdventureService {\n  constructor() {\n    this.adventurersSubject = new Subject();\n    this.adventurers$ = this.adventurersSubject.asObservable();\n    // Initialisez les aventuriers dans le constructeur\n    this.initializeAdventurers();\n    this.mapSubject.next(this.map); // Notifier de la nouvelle carte\n  }\n\n  initializeAdventurers() {\n    this.adventurers = [{\n      name: 'Indiana',\n      x: 1,\n      y: 1,\n      orientation: 'S',\n      movements: ['A', 'A', 'D', 'A', 'D', 'A'],\n      treasures: 0\n    }];\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n\n  getAdventurers() {\n    return this.adventurers;\n  }\n  addAdventurer(name, x, y, orientation, movements) {\n    this.adventurers.push({\n      name,\n      x,\n      y,\n      orientation,\n      movements,\n      treasures: 0\n    });\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n\n  initializeFromText(content) {\n    this.adventurers = []; // Reset the adventurers\n    const lines = content.split('\\n');\n    for (let line of lines) {\n      const parts = line.split(' - ');\n      if (parts[0] === 'A') {\n        this.addAdventurer(parts[1], parseInt(parts[2]), parseInt(parts[3]), parts[4], parts[5].split(''));\n      }\n    }\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n}\n\nAdventureService.ɵfac = function AdventureService_Factory(t) {\n  return new (t || AdventureService)();\n};\nAdventureService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: AdventureService,\n  factory: AdventureService.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"names":["Subject","AdventureService","constructor","adventurersSubject","adventurers$","asObservable","initializeAdventurers","mapSubject","next","map","adventurers","name","x","y","orientation","movements","treasures","getAdventurers","addAdventurer","push","initializeFromText","content","lines","split","line","parts","parseInt","factory","ɵfac","providedIn"],"sources":["/Users/sidox/dev/treasure-map/src/app/adventurer/service/adventurer.service.ts"],"sourcesContent":["import { Injectable } from '@angular/core';\nimport { Subject } from 'rxjs';\n\ninterface Adventurer {\n  name: string;\n  x: number;\n  y: number;\n  orientation: string;\n  movements: string[];\n  treasures: number;\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AdventureService {\n\n  private adventurersSubject = new Subject<Adventurer[]>();\n  adventurers$ = this.adventurersSubject.asObservable();\n\n  adventurers!: Adventurer[];\n\n  constructor() {\n    // Initialisez les aventuriers dans le constructeur\n    this.initializeAdventurers();\n    this.mapSubject.next(this.map); // Notifier de la nouvelle carte\n\n  }\n\n  initializeAdventurers() {\n    this.adventurers = [\n      {\n        name: 'Indiana',\n        x: 1,\n        y: 1,\n        orientation: 'S',\n        movements: ['A', 'A', 'D', 'A', 'D', 'A'],\n        treasures: 0,\n      },\n    ];\n\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n\n  getAdventurers() {\n    return this.adventurers;\n  }\n\n  addAdventurer(name: string, x: number, y: number, orientation: string, movements: string[]) {\n    this.adventurers.push({\n      name,\n      x,\n      y,\n      orientation,\n      movements,\n      treasures: 0,\n    });\n\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n\n  initializeFromText(content: string) {\n    this.adventurers = []; // Reset the adventurers\n    const lines = content.split('\\n');\n    for (let line of lines) {\n      const parts = line.split(' - ');\n      if (parts[0] === 'A') {\n        this.addAdventurer(parts[1], parseInt(parts[2]), parseInt(parts[3]), parts[4], parts[5].split(''));\n      }\n    }\n\n    this.adventurersSubject.next(this.adventurers); // Notifier de la nouvelle liste d'aventuriers\n  }\n}\n"],"mappings":"AACA,SAASA,OAAO,QAAQ,MAAM;;AAc9B,OAAM,MAAOC,gBAAgB;EAO3BC,YAAA;IALQ,KAAAC,kBAAkB,GAAG,IAAIH,OAAO,EAAgB;IACxD,KAAAI,YAAY,GAAG,IAAI,CAACD,kBAAkB,CAACE,YAAY,EAAE;IAKnD;IACA,IAAI,CAACC,qBAAqB,EAAE;IAC5B,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAC;EAElC;;EAEAH,qBAAqBA,CAAA;IACnB,IAAI,CAACI,WAAW,GAAG,CACjB;MACEC,IAAI,EAAE,SAAS;MACfC,CAAC,EAAE,CAAC;MACJC,CAAC,EAAE,CAAC;MACJC,WAAW,EAAE,GAAG;MAChBC,SAAS,EAAE,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MACzCC,SAAS,EAAE;KACZ,CACF;IAED,IAAI,CAACb,kBAAkB,CAACK,IAAI,CAAC,IAAI,CAACE,WAAW,CAAC,CAAC,CAAC;EAClD;;EAEAO,cAAcA,CAAA;IACZ,OAAO,IAAI,CAACP,WAAW;EACzB;EAEAQ,aAAaA,CAACP,IAAY,EAAEC,CAAS,EAAEC,CAAS,EAAEC,WAAmB,EAAEC,SAAmB;IACxF,IAAI,CAACL,WAAW,CAACS,IAAI,CAAC;MACpBR,IAAI;MACJC,CAAC;MACDC,CAAC;MACDC,WAAW;MACXC,SAAS;MACTC,SAAS,EAAE;KACZ,CAAC;IAEF,IAAI,CAACb,kBAAkB,CAACK,IAAI,CAAC,IAAI,CAACE,WAAW,CAAC,CAAC,CAAC;EAClD;;EAEAU,kBAAkBA,CAACC,OAAe;IAChC,IAAI,CAACX,WAAW,GAAG,EAAE,CAAC,CAAC;IACvB,MAAMY,KAAK,GAAGD,OAAO,CAACE,KAAK,CAAC,IAAI,CAAC;IACjC,KAAK,IAAIC,IAAI,IAAIF,KAAK,EAAE;MACtB,MAAMG,KAAK,GAAGD,IAAI,CAACD,KAAK,CAAC,KAAK,CAAC;MAC/B,IAAIE,KAAK,CAAC,CAAC,CAAC,KAAK,GAAG,EAAE;QACpB,IAAI,CAACP,aAAa,CAACO,KAAK,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,EAAEC,QAAQ,CAACD,KAAK,CAAC,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,EAAEA,KAAK,CAAC,CAAC,CAAC,CAACF,KAAK,CAAC,EAAE,CAAC,CAAC;;;IAItG,IAAI,CAACpB,kBAAkB,CAACK,IAAI,CAAC,IAAI,CAACE,WAAW,CAAC,CAAC,CAAC;EAClD;;;AAzDWT,gBAAgB,C;mBAAhBA,gBAAgB;AAAA;AAAhBA,gBAAgB,C;SAAhBA,gBAAgB;EAAA0B,OAAA,EAAhB1B,gBAAgB,CAAA2B,IAAA;EAAAC,UAAA,EAFf;AAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}