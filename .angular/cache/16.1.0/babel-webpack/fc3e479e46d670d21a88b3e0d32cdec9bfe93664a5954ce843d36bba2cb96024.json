{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../map/service/map.service\";\nimport * as i2 from \"../adventurer/service/adventurer.service\";\nexport class InputFileComponent {\n  constructor(mapService, adventurerService) {\n    this.mapService = mapService;\n    this.adventurerService = adventurerService;\n  }\n  onFileSelected(event) {\n    const file = event.target.files[0];\n    if (file) {\n      const reader = new FileReader();\n      reader.onload = e => {\n        let content = reader.result;\n        this.mapService.initializeFromText(content);\n        this.adventureService.initializeFromText(content);\n      };\n      reader.readAsText(file);\n    }\n  }\n}\nInputFileComponent.ɵfac = function InputFileComponent_Factory(t) {\n  return new (t || InputFileComponent)(i0.ɵɵdirectiveInject(i1.MapService), i0.ɵɵdirectiveInject(i2.AdventureService));\n};\nInputFileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: InputFileComponent,\n  selectors: [[\"app-input-file\"]],\n  decls: 1,\n  vars: 0,\n  consts: [[\"type\", \"file\", \"accept\", \".txt\", 3, \"change\"]],\n  template: function InputFileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"input\", 0);\n      i0.ɵɵlistener(\"change\", function InputFileComponent_Template_input_change_0_listener($event) {\n        return ctx.onFileSelected($event);\n      });\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["InputFileComponent","constructor","mapService","adventurerService","onFileSelected","event","file","target","files","reader","FileReader","onload","e","content","result","initializeFromText","adventureService","readAsText","i0","ɵɵdirectiveInject","i1","MapService","i2","AdventureService","selectors","decls","vars","consts","template","InputFileComponent_Template","rf","ctx","ɵɵelementStart","ɵɵlistener","InputFileComponent_Template_input_change_0_listener","$event","ɵɵelementEnd"],"sources":["/Users/sidox/dev/treasure-map/src/app/input-file/input-file.component.ts","/Users/sidox/dev/treasure-map/src/app/input-file/input-file.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { MapService } from '../map/service/map.service';\nimport { AdventureService } from '../adventurer/service/adventurer.service';\n\n@Component({\n  selector: 'app-input-file',\n  templateUrl: './input-file.component.html',\n  styleUrls: ['./input-file.component.css']\n})\nexport class InputFileComponent {\n  constructor(private mapService: MapService, private adventurerService: AdventureService) { }\n\n  onFileSelected(event: any) {\n    const file: File = event.target.files[0];\n\n    if (file) {\n      const reader = new FileReader();\n\n      reader.onload = (e) => {\n        let content = reader.result as string;\n        this.mapService.initializeFromText(content);\n        this.adventureService.initializeFromText(content);\n      };\n\n      reader.readAsText(file);\n    }\n  }\n}\n","<input type=\"file\" (change)=\"onFileSelected($event)\" accept=\".txt\" />\n"],"mappings":";;;AASA,OAAM,MAAOA,kBAAkB;EAC7BC,YAAoBC,UAAsB,EAAUC,iBAAmC;IAAnE,KAAAD,UAAU,GAAVA,UAAU;IAAsB,KAAAC,iBAAiB,GAAjBA,iBAAiB;EAAsB;EAE3FC,cAAcA,CAACC,KAAU;IACvB,MAAMC,IAAI,GAASD,KAAK,CAACE,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC;IAExC,IAAIF,IAAI,EAAE;MACR,MAAMG,MAAM,GAAG,IAAIC,UAAU,EAAE;MAE/BD,MAAM,CAACE,MAAM,GAAIC,CAAC,IAAI;QACpB,IAAIC,OAAO,GAAGJ,MAAM,CAACK,MAAgB;QACrC,IAAI,CAACZ,UAAU,CAACa,kBAAkB,CAACF,OAAO,CAAC;QAC3C,IAAI,CAACG,gBAAgB,CAACD,kBAAkB,CAACF,OAAO,CAAC;MACnD,CAAC;MAEDJ,MAAM,CAACQ,UAAU,CAACX,IAAI,CAAC;;EAE3B;;AAjBWN,kBAAkB,C;mBAAlBA,kBAAkB,EAAAkB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,UAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,gBAAA;AAAA;AAAlBvB,kBAAkB,C;QAAlBA,kBAAkB;EAAAwB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT/BZ,EAAA,CAAAc,cAAA,eAAqE;MAAlDd,EAAA,CAAAe,UAAA,oBAAAC,oDAAAC,MAAA;QAAA,OAAUJ,GAAA,CAAA3B,cAAA,CAAA+B,MAAA,CAAsB;MAAA,EAAC;MAApDjB,EAAA,CAAAkB,YAAA,EAAqE"},"metadata":{},"sourceType":"module","externalDependencies":[]}